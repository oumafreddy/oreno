{% extends 'public/base.html' %}
{% load static %}

{% block title %}Documentation | Oreno GRC Platform{% endblock %}

{% block content %}
<!-- Documentation Header -->
<section class="docs-hero" style="background: #f6f8fa; padding: 48px 0 32px 0; border-bottom: 1px solid #e0e4ea;">
    <div class="container">
        <div class="docs-hero-content" style="text-align: center; max-width: 800px; margin: 0 auto;">
            <h1 style="font-size: 2.5rem; font-weight: 700; color: #0052cc; margin-bottom: 16px;">Documentation</h1>
            <p style="font-size: 1.2rem; color: #444; margin-bottom: 24px;">Comprehensive guides and resources for the Oreno GRC platform</p>
            <div class="docs-search" style="max-width: 400px; margin: 0 auto;">
                <div style="position: relative;">
                    <input type="text" placeholder="Search documentation..." style="width: 100%; padding: 12px 16px; border: 1px solid #e0e4ea; border-radius: 8px; font-size: 1rem; background: #fff;">
                    <i class="fas fa-search" style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); color: #666;"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Documentation Content -->
<section class="docs-content" style="padding: 48px 0;">
    <div class="container">
        <div class="docs-grid" style="display: grid; grid-template-columns: 1fr 3fr; gap: 48px; max-width: 1200px; margin: 0 auto;">
            
            <!-- Sidebar Navigation -->
            <div class="docs-sidebar" style="background: #fff; border-radius: 12px; padding: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); height: fit-content; position: sticky; top: 100px;">
                <h3 style="font-size: 1.2rem; font-weight: 600; color: #0052cc; margin-bottom: 20px;">Quick Navigation</h3>
                <nav class="docs-nav">
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        <li style="margin-bottom: 8px;"><a href="#getting-started" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Getting Started</a></li>
                        <li style="margin-bottom: 8px;"><a href="#audit-management" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Audit Management</a></li>
                        <li style="margin-bottom: 8px;"><a href="#risk-management" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Risk Management</a></li>
                        <li style="margin-bottom: 8px;"><a href="#compliance" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Compliance</a></li>
                        <li style="margin-bottom: 8px;"><a href="#reports" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Reports</a></li>
                        <li style="margin-bottom: 8px;"><a href="#api" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">API Reference</a></li>
                        <li style="margin-bottom: 8px;"><a href="#troubleshooting" style="color: #222; text-decoration: none; padding: 8px 12px; border-radius: 6px; display: block; transition: background 0.2s;">Troubleshooting</a></li>
                    </ul>
                </nav>
            </div>

            <!-- Main Content -->
            <div class="docs-main">
                
                <!-- Getting Started Section -->
                <section id="getting-started" class="docs-section" style="margin-bottom: 48px;">
                    <h2 style="font-size: 2rem; font-weight: 600; color: #0052cc; margin-bottom: 16px;">Getting Started</h2>
                    <div class="docs-card" style="background: #fff; border-radius: 12px; padding: 32px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin-bottom: 24px;">
                        <h3 style="font-size: 1.4rem; font-weight: 600; color: #222; margin-bottom: 16px;">Welcome to Oreno GRC</h3>
                        <p style="color: #444; line-height: 1.6; margin-bottom: 16px;">Oreno GRC is a comprehensive enterprise platform designed to streamline governance, risk, and compliance management for organizations of all sizes.</p>
                        <div class="feature-list" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 24px;">
                            <div class="feature-item" style="padding: 20px; background: #f6f8fa; border-radius: 8px; border-left: 4px solid #0052cc;">
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #0052cc; margin-bottom: 8px;">Audit Management</h4>
                                <p style="color: #666; font-size: 0.95rem;">Plan, execute, and track audit engagements with comprehensive workflow management.</p>
                            </div>
                            <div class="feature-item" style="padding: 20px; background: #f6f8fa; border-radius: 8px; border-left: 4px solid #00c6ff;">
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #00c6ff; margin-bottom: 8px;">Risk Assessment</h4>
                                <p style="color: #666; font-size: 0.95rem;">Identify, assess, and mitigate risks with advanced risk management tools.</p>
                            </div>
                            <div class="feature-item" style="padding: 20px; background: #f6f8fa; border-radius: 8px; border-left: 4px solid #43a047;">
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #43a047; margin-bottom: 8px;">Compliance Tracking</h4>
                                <p style="color: #666; font-size: 0.95rem;">Monitor compliance requirements and maintain regulatory adherence.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Audit Management Section -->
                <section id="audit-management" class="docs-section" style="margin-bottom: 48px;">
                    <h2 style="font-size: 2rem; font-weight: 600; color: #0052cc; margin-bottom: 16px;">Audit Management</h2>
                    <div class="docs-card" style="background: #fff; border-radius: 12px; padding: 32px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <h3 style="font-size: 1.4rem; font-weight: 600; color: #222; margin-bottom: 16px;">Creating Your First Audit Engagement</h3>
                        <ol style="color: #444; line-height: 1.6; padding-left: 20px;">
                            <li style="margin-bottom: 12px;">Navigate to the Audit module from the main dashboard</li>
                            <li style="margin-bottom: 12px;">Click "New Engagement" to create a new audit engagement</li>
                            <li style="margin-bottom: 12px;">Fill in the engagement details including title, objectives, and timeline</li>
                            <li style="margin-bottom: 12px;">Add audit objectives and procedures</li>
                            <li style="margin-bottom: 12px;">Assign team members and set permissions</li>
                            <li style="margin-bottom: 12px;">Save and begin the audit process</li>
                        </ol>
                        <div class="info-box" style="background: #e3f2fd; border: 1px solid #2196f3; border-radius: 8px; padding: 16px; margin-top: 20px;">
                            <p style="color: #1976d2; margin: 0;"><strong>Tip:</strong> Use the risk-based audit approach to link your audit objectives to specific organizational risks for more targeted and effective audits.</p>
                        </div>
                    </div>
                </section>

                <!-- Risk Management Section -->
                <section id="risk-management" class="docs-section" style="margin-bottom: 48px;">
                    <h2 style="font-size: 2rem; font-weight: 600; color: #0052cc; margin-bottom: 16px;">Risk Management</h2>
                    <div class="docs-card" style="background: #fff; border-radius: 12px; padding: 32px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <h3 style="font-size: 1.4rem; font-weight: 600; color: #222; margin-bottom: 16px;">Setting Up Your Risk Register</h3>
                        <p style="color: #444; line-height: 1.6; margin-bottom: 16px;">The risk management module allows you to create and maintain comprehensive risk registers tailored to your organization's needs.</p>
                        <div class="steps-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 24px;">
                            <div class="step-item" style="text-align: center; padding: 20px;">
                                <div style="width: 60px; height: 60px; background: #0052cc; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-weight: 600; font-size: 1.2rem;">1</div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #222; margin-bottom: 8px;">Create Risk Register</h4>
                                <p style="color: #666; font-size: 0.9rem;">Set up your organization's risk register with appropriate categories and frameworks.</p>
                            </div>
                            <div class="step-item" style="text-align: center; padding: 20px;">
                                <div style="width: 60px; height: 60px; background: #00c6ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-weight: 600; font-size: 1.2rem;">2</div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #222; margin-bottom: 8px;">Identify Risks</h4>
                                <p style="color: #666; font-size: 0.9rem;">Document and categorize risks using industry-standard frameworks like COSO and ISO 31000.</p>
                            </div>
                            <div class="step-item" style="text-align: center; padding: 20px;">
                                <div style="width: 60px; height: 60px; background: #43a047; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; color: white; font-weight: 600; font-size: 1.2rem;">3</div>
                                <h4 style="font-size: 1.1rem; font-weight: 600; color: #222; margin-bottom: 8px;">Assess & Treat</h4>
                                <p style="color: #666; font-size: 0.9rem;">Evaluate risk impact and likelihood, then develop appropriate treatment strategies.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- API Reference Section -->
                <section id="api" class="docs-section" style="margin-bottom: 48px;">
                    <h2 style="font-size: 2rem; font-weight: 600; color: #0052cc; margin-bottom: 16px;">API Reference</h2>
                    <div class="docs-card" style="background: #fff; border-radius: 12px; padding: 32px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                        <h3 style="font-size: 1.4rem; font-weight: 600; color: #222; margin-bottom: 16px;">REST API Documentation</h3>
                        <p style="color: #444; line-height: 1.6; margin-bottom: 20px;">Oreno GRC provides a comprehensive REST API for integrating with external systems and building custom applications.</p>
                        <div class="api-info" style="background: #f6f8fa; border-radius: 8px; padding: 20px; margin-bottom: 20px;">
                            <h4 style="font-size: 1.1rem; font-weight: 600; color: #222; margin-bottom: 12px;">Base URL</h4>
                            <code style="background: #fff; padding: 8px 12px; border-radius: 4px; font-family: 'Courier New', monospace; color: #0052cc;">https://oreno.tech/api/</code>
                        </div>
                        <div class="api-endpoints" style="margin-top: 24px;">
                            <h4 style="font-size: 1.1rem; font-weight: 600; color: #222; margin-bottom: 16px;">Available Endpoints</h4>
                            <div class="endpoint-list">
                                <div style="background: #fff; border: 1px solid #e0e4ea; border-radius: 6px; padding: 16px; margin-bottom: 12px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <span style="background: #43a047; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 600;">GET</span>
                                        <code style="font-family: 'Courier New', monospace; color: #0052cc;">/api/audit/engagements/</code>
                                    </div>
                                    <p style="color: #666; font-size: 0.9rem; margin: 8px 0 0 0;">Retrieve list of audit engagements</p>
                                </div>
                                <div style="background: #fff; border: 1px solid #e0e4ea; border-radius: 6px; padding: 16px; margin-bottom: 12px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <span style="background: #0052cc; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 600;">POST</span>
                                        <code style="font-family: 'Courier New', monospace; color: #0052cc;">/api/risk/risks/</code>
                                    </div>
                                    <p style="color: #666; font-size: 0.9rem; margin: 8px 0 0 0;">Create a new risk entry</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Contact Support -->
                <section class="docs-section" style="margin-bottom: 48px;">
                    <div class="docs-card" style="background: linear-gradient(135deg, #0052cc 0%, #00c6ff 100%); border-radius: 12px; padding: 32px; color: white; text-align: center;">
                        <h3 style="font-size: 1.6rem; font-weight: 600; margin-bottom: 16px;">Need Help?</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 24px; opacity: 0.9;">Can't find what you're looking for? Our support team is here to help.</p>
                        <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                            <a href="mailto:info@oreno.tech" style="background: rgba(255,255,255,0.2); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: background 0.2s;">Email Support</a>
                            <a href="/#contact" style="background: rgba(255,255,255,0.2); color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 600; transition: background 0.2s;">Contact Form</a>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </div>
</section>

<style>
/* Responsive Design */
@media (max-width: 900px) {
    .docs-grid {
        grid-template-columns: 1fr !important;
        gap: 24px !important;
    }
    .docs-sidebar {
        position: static !important;
        order: 2;
    }
    .docs-main {
        order: 1;
    }
}

/* Navigation Hover Effects */
.docs-nav a:hover {
    background: #e6f0fa !important;
    color: #0052cc !important;
}

/* API Endpoint Hover Effects */
.endpoint-list > div:hover {
    border-color: #0052cc !important;
    box-shadow: 0 2px 8px rgba(0,82,204,0.1) !important;
}

/* Contact Button Hover Effects */
.docs-card a:hover {
    background: rgba(255,255,255,0.3) !important;
}
</style>

<script nonce="{{ request.csp_nonce }}">
// Smooth scrolling for navigation links
document.addEventListener('DOMContentLoaded', function() {
    const navLinks = document.querySelectorAll('.docs-nav a[href^="#"]');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Simple search functionality
    const searchInput = document.querySelector('.docs-search input');
    if (searchInput) {
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const sections = document.querySelectorAll('.docs-section');
            
            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(searchTerm) || searchTerm === '') {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        });
    }
});
</script>
{% endblock %}
