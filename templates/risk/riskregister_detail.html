{% extends 'base.html' %}
{% block title %}Risk Register Detail{% endblock %}
{% block content %}
<div class="container-fluid mt-4">
    <div class="row mb-3">
        <div class="col">
            <h2>Risk Register: {{ riskregister.register_name }}</h2>
            <a href="{% url 'risk:riskregister_update' riskregister.pk %}" class="btn btn-secondary"><i class="bi bi-pencil"></i> Edit</a>
            <a href="{% url 'risk:riskregister_delete' riskregister.pk %}" class="btn btn-danger"><i class="bi bi-trash"></i> Delete</a>
            <a href="{% url 'risk:riskregister_list' %}" class="btn btn-outline-primary float-end"><i class="bi bi-arrow-left"></i> Back to List</a>
        </div>
    </div>
    <div class="card mb-4">
        <div class="card-header bg-light"><strong>Register Details</strong></div>
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-4">Code</dt><dd class="col-sm-8">{{ riskregister.code }}</dd>
                <dt class="col-sm-4">Name</dt><dd class="col-sm-8">{{ riskregister.register_name }}</dd>
                <dt class="col-sm-4">Period</dt><dd class="col-sm-8">{{ riskregister.register_period }}</dd>
                <dt class="col-sm-4">Created</dt><dd class="col-sm-8">{{ riskregister.register_creation_date }}</dd>
                <dt class="col-sm-4">Description</dt><dd class="col-sm-8">{{ riskregister.register_description|safe }}</dd>
                <dt class="col-sm-4">Risks</dt><dd class="col-sm-8">
                    {% if riskregister.risks.all %}
                        <ul class="list-group list-group-flush">
                        {% for risk in riskregister.risks.all %}
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <a href="{% url 'risk:risk_detail' risk.pk %}">{{ risk.risk_name }}</a>
                                <span class="badge bg-info">{{ risk.get_category_display }}</span>
                            </li>
                        {% empty %}
                            <li class="list-group-item text-muted">No risks linked.</li>
                        {% endfor %}
                        </ul>
                    {% endif %}
                </dd>
            </dl>
        </div>
    </div>
</div>
{% endblock %} 