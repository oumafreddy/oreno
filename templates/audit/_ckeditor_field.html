{# CKEditor5 field partial for modal forms #}
{# Usage: {% include 'audit/_ckeditor_field.html' with field=form.description %} #}
<div class="form-group">
    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
    {# Add classes directly to the widget without using add_class filter #}
    <textarea 
        name="{{ field.name }}" 
        id="{{ field.id_for_label }}" 
        class="django_ckeditor_5 ckeditor-richtext form-control{% if field.errors %} is-invalid{% endif %}"
        {% if field.field.required %}required{% endif %}
        {% if field.field.widget.attrs.placeholder %}placeholder="{{ field.field.widget.attrs.placeholder }}"{% endif %}
        {% if field.field.widget.attrs.rows %}rows="{{ field.field.widget.attrs.rows }}"{% endif %}
        {% if field.field.widget.attrs.cols %}cols="{{ field.field.widget.attrs.cols }}"{% endif %}
    >{{ field.value|default:'' }}</textarea>
    {% if field.help_text %}
        <small class="form-text text-muted">{{ field.help_text }}</small>
    {% endif %}
    {% if field.errors %}
        <div class="invalid-feedback d-block">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}
</div> 