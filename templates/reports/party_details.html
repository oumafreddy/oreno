{% extends 'base.html' %}
{% block content %}
<div class="container mt-3">
  <h2>Party Details</h2>
  <p><strong>Organization:</strong> {{ organization.name }}</p>
  {% for p in parties %}
  <div class="card mb-3">
    <div class="card-body">
      <h4>{{ p.name|truncatechars:60 }}</h4>
      <p><strong>ID:</strong> {{ p.party_id }}</p>
      <p><strong>Role:</strong> {{ p.role }}</p>
      <p><strong>Email:</strong> {{ p.email }}</p>
      <p><strong>Phone:</strong> {{ p.phone|default:'-' }}</p>
      <h6 class="mt-3">Contracts</h6>
      <ul>
        {% for c in p.contracts.all %}
        <li>{{ c.title|truncatechars:40 }}</li>
        {% empty %}
        <li class="text-muted">No contracts.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% empty %}
  <div class="alert alert-info">No parties found.</div>
  {% endfor %}
</div>
{% endblock %} 