{% extends 'base.html' %}
{% block title %}Documents{% endblock %}
{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="fw-bold">Documents</h2>
    <a href="{% url 'document_management:document-add' %}" class="btn btn-primary">Add Document</a>
  </div>
  <div class="card shadow-sm">
    <div class="card-body p-0">
      <table class="table table-hover mb-0">
        <thead class="table-light">
          <tr>
            <th>Request</th>
            <th>File</th>
            <th>Uploaded By</th>
            <th>Uploaded At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for doc in documents %}
          <tr>
            <td><a href="{% url 'document_management:documentrequest-detail' doc.document_request.pk %}">{{ doc.document_request.request_name }}</a></td>
            <td><a href="{{ doc.file.url }}" download>{{ doc.file.name }}</a></td>
            <td>{{ doc.uploaded_by|default:'External' }}</td>
            <td>{{ doc.uploaded_at }}</td>
            <td>
              <a href="{% url 'document_management:document-detail' doc.pk %}" class="btn btn-sm btn-outline-info">View</a>
              <a href="{% url 'document_management:document-edit' doc.pk %}" class="btn btn-sm btn-outline-primary">Edit</a>
              <a href="{% url 'document_management:document-delete' doc.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="5" class="text-muted">No documents found.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %} 